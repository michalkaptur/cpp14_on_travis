language: generic #language: cpp overwrites CXX/CC variables

addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test


matrix:
  include:
  - addons:
        apt:
            packages:
                - g++-6
                - gcc-6
    env: CXX=g++-6 CC=gcc-6
    
  - addons:
        apt:
            sources:
                - llvm-toolchain-precise-3.8
            packages:
                - clang-3.8
    env: CXX=clang++-3.8 CC=clang-3.8

script:
  - mkdir build && cd build
  - cmake ..
  - make
  - ./hello
